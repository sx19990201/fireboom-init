import{b as h,r as m,aw as f,a9 as x,a as t,j as w,F as g}from"./index.bb86fbbf.js";import{H as v}from"./Helmet.0418c866.js";import{i as S}from"./use-immer.module.c8467ba8.js";import{e as b,D as C,a as D,f as k}from"./datasource-reducer.65a5fa66.js";/* empty css              */import"./index.837f2673.js";import"./button.aa0bb50b.js";import"./index.61964446.js";/* empty css               *//* empty css               */import"./index.34a54fb6.js";import{W as T}from"./workbenchContext.3d2abc29.js";import"./index.10921ee9.js";import"./index.da25c8fe.js";import"./EyeOutlined.7a3a19f7.js";import"./css.7dd30b7b.js";import"./Portal.a4c68d61.js";import"./type.4482a080.js";import"./DialogWrap.ab5d7a46.js";import"./PortalWrapper.eb4c9ec4.js";import"./pickAttrs.38f17648.js";import"./RightOutlined.93d63f13.js";import"./index.445b6a21.js";/* empty css               */import"./index.2ab34b44.js";import"./responsiveObserve.57a0a6d3.js";import"./Editor.6c4f1911.js";import"./state-local.735e622b.js";import"./index.6d8ed736.js";import"./index.11df8be1.js";import"./_baseIsEqual.08bd8828.js";import"./isSymbol.5f361b44.js";import"./omit.fd69d8d2.js";import"./index.9ea41163.js";import"./context.24d2ae58.js";import"./iconUtil.02bc4596.js";import"./Overflow.7a0e3cac.js";import"./statusUtils.077f8a48.js";import"./SearchOutlined.7a88f9ff.js";import"./index.4c04c22e.js";import"./dayjs.min.bdeb7890.js";import"./DoubleRightOutlined.3d4f0e16.js";import"./index.2f0a4123.js";import"./row.b57345b2.js";import"./styleChecker.d685456c.js";import"./index.bb824a09.js";import"./50x.88c69611.js";import"./Table.134cf6cf.js";import"./Pagination.4574862b.js";import"./useForceUpdate.c2f36fab.js";import"./index.c0722274.js";import"./Dropdown.6fe64b76.js";import"./Sider.d20f3d2a.js";import"./Tree.4ceb5bc3.js";import"./conductUtil.03254829.js";import"./index.4aaa6195.js";import"./PaperClipOutlined.9913305c.js";import"./DeleteOutlined.71bf1760.js";import"./index.29ffa237.js";import"./index.86464724.js";import"./index.db465a01.js";import"./parser.416ca819.js";import"./source.c7b92d0a.js";import"./index.f3604e26.js";import"./index.d80e831a.js";import"./PlusOutlined.c73517e2.js";import"./CaretRightOutlined.b47366d4.js";import"./index.4a2fd767.js";import"./SearchOutlined.5704e58e.js";function Gr(){const o=h(),{onRefreshMenu:c}=m.exports.useContext(T),[n,u]=m.exports.useReducer(b,[]),[a,e]=m.exports.useState(),{id:i}=f(),[d,p]=S("detail");m.exports.useEffect(()=>{if(i==="create"){a||o("/workbench/dataSource/new",{replace:!0});return}if(i==="new"){e(void 0);return}p("detail"),x.get("/dataSource").then(r=>{e(r.filter(s=>s.id===Number(i))[0])})},[i]);const l=(r,s,E)=>{location.pathname==="/workbench/dataSource/create"?o("/workbench/dataSource/new",{replace:!0}):p(r)};return n?w(g,{children:[t(v,{children:t("title",{children:"FireBoom - \u6570\u636E\u6765\u6E90"})}),t(C.Provider,{value:u,children:t(D.Provider,{value:{handleToggleDesigner:l,handleSave:r=>{c("dataSource"),e(r),p("detail"),o(`/workbench/dataSource/${r.id}`,{replace:!0})},handleCreate:r=>{p("form"),e(r),o("/workbench/dataSource/create",{replace:!0})}},children:t(k,{showType:d,content:a})})})]}):t("div",{children:"loading..."})}export{Gr as default};
