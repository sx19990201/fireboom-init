import{r as l,a as t,F as g,j as a,b as S,aw as b,ay as k,a9 as E}from"./index.bb86fbbf.js";import{B as f}from"./button.aa0bb50b.js";import{e as w}from"./User.914c3ecd.js";import{W as C}from"./workbenchContext.3d2abc29.js";/* empty css               */import{D as i}from"./index.2ab34b44.js";import{i as I}from"./use-immer.module.c8467ba8.js";import{E as F}from"./50x.88c69611.js";import{E as v}from"./EyeOutlined.7a3a19f7.js";import{E as N}from"./index.837f2673.js";import{A}from"./Common.module.010354ac.js";import"./index.61964446.js";import"./index.2f0a4123.js";import"./row.b57345b2.js";import"./index.da25c8fe.js";import"./index.bb824a09.js";import"./index.34a54fb6.js";import"./index.542e568d.js";import"./index.f363402f.js";import"./index.7cc37b0c.js";import"./iconUtil.02bc4596.js";import"./outLine.module.f9ff1d24.js";import"./index.4a2fd767.js";import"./index.7a7dbb1b.js";import"./index.d80e831a.js";import"./Role.e147b7b0.js";import"./UserDetails.eb01211d.js";import"./index.9ea41163.js";import"./index.11df8be1.js";import"./index.445b6a21.js";import"./Table.134cf6cf.js";import"./Pagination.4574862b.js";import"./Tree.4ceb5bc3.js";import"./subs.module.7d96a7ba.js";/* empty css              */import"./omit.fd69d8d2.js";import"./type.4482a080.js";import"./index.459a5958.js";import"./styleChecker.d685456c.js";import"./context.24d2ae58.js";import"./Portal.a4c68d61.js";import"./_baseIsEqual.08bd8828.js";import"./index.80acc5c7.js";/* empty css               *//* empty css               */import"./index.29ffa237.js";import"./index.86464724.js";import"./responsiveObserve.57a0a6d3.js";import"./statusUtils.077f8a48.js";import"./SearchOutlined.7a88f9ff.js";import"./Editor.6c4f1911.js";import"./index.10921ee9.js";import"./state-local.735e622b.js";import"./index.db465a01.js";import"./css.7dd30b7b.js";import"./DialogWrap.ab5d7a46.js";import"./PortalWrapper.eb4c9ec4.js";import"./pickAttrs.38f17648.js";import"./RightOutlined.93d63f13.js";import"./SearchOutlined.5704e58e.js";import"./constant.83f5fa12.js";import"./OneToOneOutlined.eddb799a.js";import"./index.esm.ac9005b0.js";import"./ConnectorModal.ed8f28c3.js";import"./clsx.m.70024c70.js";import"./index.cf3f625b.js";import"./DeleteOutlined.71bf1760.js";import"./CopyOutlined.f406d7f9.js";import"./index.682dcb84.js";import"./404.4247b5cd.js";import"./index.4c04c22e.js";import"./_createAggregator.0faee691.js";import"./identity.bf2ac13f.js";import"./isSymbol.5f361b44.js";import"./index.c0722274.js";import"./Dropdown.6fe64b76.js";import"./Overflow.7a0e3cac.js";import"./Sider.d20f3d2a.js";import"./PlusCircleOutlined.5451847d.js";import"./tslib.es6.d40f4976.js";import"./PlusOutlined.c73517e2.js";import"./index.6d8ed736.js";import"./dayjs.min.bdeb7890.js";import"./DoubleRightOutlined.3d4f0e16.js";import"./getDefaultCode.40c4b411.js";import"./useForceUpdate.c2f36fab.js";import"./conductUtil.03254829.js";function j({content:r}){var p,u;l.exports.useContext(w);const[o,c]=I(!1),e=r.config,n=()=>{c(!o)},h=((p=r.switchState)==null?void 0:p.length)==0?"\u4E0D\u5F00\u542F":((u=r.switchState)==null?void 0:u.length)==2?"\u57FA\u4E8EToken\u548CCookie":r.switchState[0]=="tokenBased"?"\u57FA\u4E8EToken":r.switchState[0]=="cookieBased"?"\u57FA\u4E8ECookie":"";return r?t(g,{children:t("div",{className:"mt-8",children:a(i,{bordered:!0,column:1,size:"small",children:[t(i.Item,{label:"\u4F9B\u5E94\u5546ID",children:e.id}),t(i.Item,{label:"App ID",children:e.clientId}),t(i.Item,{label:"App Secret",children:t("span",{onClick:n,children:o?a("div",{children:[e.clientSecret,t(v,{className:"ml-6"})]}):e.clientSecret?a("div",{children:["***********",t(N,{className:"ml-6"})]}):""})}),t(i.Item,{label:"Issuer",children:e.issuer}),t(i.Item,{label:"\u670D\u52A1\u53D1\u73B0\u5730\u5740",children:`${e.issuer}/.well-known/openid-configuration`}),t(i.Item,{label:"JWKS",children:e.jwks==0?"URL":"JSON"}),e.jwks===0?t(i.Item,{label:"jwksURL",children:`${e.issuer}/.well-known/jwks.json`}):t(i.Item,{label:"jwksJSON",children:t("pre",{children:e.jwksJSON})}),t(i.Item,{label:"\u7528\u6237\u7AEF\u70B9",children:`${e.issuer}/me`}),t(i.Item,{label:"\u662F\u5426\u5F00\u542F",children:h})]})})}):t(F,{})}function B(){const{onRefreshMenu:r}=l.exports.useContext(C),[o,c]=l.exports.useState(),[e,n]=l.exports.useState(!1),h=S(),{id:p}=b(),{config:u}=l.exports.useContext(k);l.exports.useEffect(()=>{if(p==="new"){n(!0),c({point:"",config:{},id:0,name:"",authSupplier:"openid",switchState:[]});return}E.get("/auth").then(m=>{m.forEach(s=>{s.id===Number(p)&&(n(!1),c(s))})})},[p]);const x=m=>{r("auth"),c(m),h(`/workbench/auth/${m.id}`)},d=()=>{const m=new URL(location.toString());m.hash="#/workbench/userInfo";let s=new URL((o==null?void 0:o.point)+encodeURIComponent(m.toString()));u.apiHost||(s.protocol=location.protocol,s.hostname=location.hostname,s.port=location.port),window.open(s.toString())};return a("div",{className:"common-form h-full flex items-stretch justify-items-stretch flex-col",children:[" ",a("div",{className:"h-54px flex-0 bg-white flex items-center pl-11",children:[t("img",{src:"/assets/ant-tree/file.png",className:"w-14px h-14px mr-1.5",alt:"\u6587\u4EF6"}),o==null?void 0:o.name,t("div",{className:"flex-1"}),e?null:a(g,{children:[t(f,{className:"btn-test  mr-4",onClick:d,children:"\u6D4B\u8BD5"}),t(f,{className:"btn-save  mr-11",onClick:()=>n(!0),children:"\u7F16\u8F91"})]})]}),t("div",{className:"rounded-4px flex-1 min-h-0 overflow-y-auto bg-white pl-8 mx-3 mt-3",children:t(w.Provider,{value:{handleBottomToggleDesigner:()=>n(!e)},children:o?e?t(A,{content:o,onChange:x,onTest:d}):t(j,{content:o}):""})})]})}function ae(){return t(B,{})}export{ae as default};
